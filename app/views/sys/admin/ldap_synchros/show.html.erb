<style type="text/css">
#ldapView { margin-top: 15px; }
#ldapView .groups { margin: 10px 0px 0px 20px; }
#ldapView .group  { margin: 12px 0px 0px 0px; padding: 4px 6px; background-color: #ddd; color: #060; }
#ldapView .users  {
  margin: 0px 0px 0px 0px; padding: 4px 6px;
  border: 1px solid #ddd; border-width: 0px 1px 1px 1px;
  font-size: 80%; line-height: 1.3; font-family: verdana; }
</style>

<table class="show">
  <tr>
    <th><%= @item.class.human_attribute_name :version %></th>
    <td><%= @item.version %></td>
  </tr>
  <tr>
    <th><%= @item.class.human_attribute_name :target_tenant_code %></th>
    <td><%= @item.target_tenant_name %></td>
  </tr>
  <tr>
    <th><%= @item.class.human_attribute_name :fetch_log %></th>
    <td><%= @item.fetch_log %></td>
  </tr>
  <tr>
    <th><%= @item.class.human_attribute_name :synchro_log %></th>
    <td><%= @item.synchro_log %></td>
  </tr>
</table>

<%= form_tag url_for(action: :synchronize) do |f| %>
  <div class="submitters">
    <span id="message" style="color: #b40; text-align: center;"></span>
    <input type="submit" value="同期する" />
  </div>
<% end %>

<div id="ldapView">
<%= render 'children', groups: @items %>
</div>

<script type="text/javascript">
//<![CDATA[
$(function() {
  $('form').on('submit', function() {
    $('#message').html('処理を開始しました。そのままでお待ちください。<br /><br />');
    return true;
  });
});
//]]>
</script>
